{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\megum\\\\OneDrive\\\\\\u30C9\\u30AD\\u30E5\\u30E1\\u30F3\\u30C8\\\\Tugas Andre\\\\Semester 6\\\\PemWeb\\\\Tugas_3\\\\manajemen-buku\\\\src\\\\context\\\\BookContext.js\",\n  _s = $RefreshSig$();\n// src/context/BookContext.js\nimport React, { createContext, useReducer, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookContext = /*#__PURE__*/createContext();\nconst initialState = JSON.parse(localStorage.getItem(\"books\")) || [];\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_BOOK\":\n      return [...state, action.payload];\n    case \"EDIT_BOOK\":\n      return state.map(book => book.id === action.payload.id ? action.payload : book);\n    case \"DELETE_BOOK\":\n      return state.filter(book => book.id !== action.payload);\n    default:\n      return state;\n  }\n}\nexport function BookProvider({\n  children\n}) {\n  _s();\n  const [books, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    localStorage.setItem(\"books\", JSON.stringify(books));\n  }, [books]);\n  const addBook = book => dispatch({\n    type: \"ADD_BOOK\",\n    payload: book\n  });\n  const editBook = book => dispatch({\n    type: \"EDIT_BOOK\",\n    payload: book\n  });\n  const deleteBook = id => dispatch({\n    type: \"DELETE_BOOK\",\n    payload: id\n  });\n  return /*#__PURE__*/_jsxDEV(BookContext.Provider, {\n    value: {\n      books,\n      addBook,\n      editBook,\n      deleteBook\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(BookProvider, \"cQTQA1ctOCacv+ieO0z1sqs6AB0=\");\n_c = BookProvider;\nBookProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default BookContext;\nvar _c;\n$RefreshReg$(_c, \"BookProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useEffect","PropTypes","jsxDEV","_jsxDEV","BookContext","initialState","JSON","parse","localStorage","getItem","reducer","state","action","type","payload","map","book","id","filter","BookProvider","children","_s","books","dispatch","setItem","stringify","addBook","editBook","deleteBook","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","node","isRequired","$RefreshReg$"],"sources":["C:/Users/megum/OneDrive/ドキュメント/Tugas Andre/Semester 6/PemWeb/Tugas_3/manajemen-buku/src/context/BookContext.js"],"sourcesContent":["// src/context/BookContext.js\r\nimport React, { createContext, useReducer, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst BookContext = createContext();\r\n\r\nconst initialState = JSON.parse(localStorage.getItem(\"books\")) || [];\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"ADD_BOOK\":\r\n      return [...state, action.payload];\r\n    case \"EDIT_BOOK\":\r\n      return state.map((book) =>\r\n        book.id === action.payload.id ? action.payload : book\r\n      );\r\n    case \"DELETE_BOOK\":\r\n      return state.filter((book) => book.id !== action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function BookProvider({ children }) {\r\n  const [books, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"books\", JSON.stringify(books));\r\n  }, [books]);\r\n\r\n  const addBook = (book) => dispatch({ type: \"ADD_BOOK\", payload: book });\r\n  const editBook = (book) => dispatch({ type: \"EDIT_BOOK\", payload: book });\r\n  const deleteBook = (id) => dispatch({ type: \"DELETE_BOOK\", payload: id });\r\n\r\n  return (\r\n    <BookContext.Provider value={{ books, addBook, editBook, deleteBook }}>\r\n      {children}\r\n    </BookContext.Provider>\r\n  );\r\n}\r\n\r\nBookProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default BookContext;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACnE,OAAOC,SAAS,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAEnC,MAAMO,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;AAEpE,SAASC,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;EAC9B,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,UAAU;MACb,OAAO,CAAC,GAAGF,KAAK,EAAEC,MAAM,CAACE,OAAO,CAAC;IACnC,KAAK,WAAW;MACd,OAAOH,KAAK,CAACI,GAAG,CAAEC,IAAI,IACpBA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE,GAAGL,MAAM,CAACE,OAAO,GAAGE,IACnD,CAAC;IACH,KAAK,aAAa;MAChB,OAAOL,KAAK,CAACO,MAAM,CAAEF,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAAC;IAC3D;MACE,OAAOH,KAAK;EAChB;AACF;AAEA,OAAO,SAASQ,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACzC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,UAAU,CAACW,OAAO,EAAEL,YAAY,CAAC;EAE3DL,SAAS,CAAC,MAAM;IACdQ,YAAY,CAACgB,OAAO,CAAC,OAAO,EAAElB,IAAI,CAACmB,SAAS,CAACH,KAAK,CAAC,CAAC;EACtD,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,MAAMI,OAAO,GAAIV,IAAI,IAAKO,QAAQ,CAAC;IAAEV,IAAI,EAAE,UAAU;IAAEC,OAAO,EAAEE;EAAK,CAAC,CAAC;EACvE,MAAMW,QAAQ,GAAIX,IAAI,IAAKO,QAAQ,CAAC;IAAEV,IAAI,EAAE,WAAW;IAAEC,OAAO,EAAEE;EAAK,CAAC,CAAC;EACzE,MAAMY,UAAU,GAAIX,EAAE,IAAKM,QAAQ,CAAC;IAAEV,IAAI,EAAE,aAAa;IAAEC,OAAO,EAAEG;EAAG,CAAC,CAAC;EAEzE,oBACEd,OAAA,CAACC,WAAW,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAER,KAAK;MAAEI,OAAO;MAAEC,QAAQ;MAAEC;IAAW,CAAE;IAAAR,QAAA,EACnEA;EAAQ;IAAAW,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B;AAACb,EAAA,CAhBeF,YAAY;AAAAgB,EAAA,GAAZhB,YAAY;AAkB5BA,YAAY,CAACiB,SAAS,GAAG;EACvBhB,QAAQ,EAAEnB,SAAS,CAACoC,IAAI,CAACC;AAC3B,CAAC;AAED,eAAelC,WAAW;AAAC,IAAA+B,EAAA;AAAAI,YAAA,CAAAJ,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}